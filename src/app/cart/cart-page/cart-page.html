<app-navbar></app-navbar>
<div class="container">
  <h1>My Shopping Cart</h1>
  <div class="cart-layout">
    <!-- Cart Items -->
    <div class="left-side" *ngIf="cartItems?.items?.length > 0; else emptyCart">
      <div class="cart-items">
        <div class="cart-item" *ngFor="let item of cartItems.items">
          <img [src]="item.productId?.image" [alt]="item.productId?.name" />
          <div class="item-details">
            <h2>{{ item.productId?.name }}</h2>
            <div class="item-info">
              <p>₹{{ item.productId?.price }}</p>
              <select [(ngModel)]="item.quantity">
                <option *ngFor="let qty of quantities" [value]="qty">Qty: {{ qty }}</option>
              </select>
            </div>
            <div class="item-actions">
              <button (click)="removeProduct(item.productId._id)">
                <i class="fa fa-trash"></i> Remove
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Coupon + Price Details -->
    <div class="right-side">
      <div class="coupon-container">
        <h2>Apply Coupon</h2>
        <div class="coupon-box">
          <input [(ngModel)]="couponCode" placeholder="Enter coupon code" />
          <button (click)="applyCoupon()">Apply</button>
        </div>
      </div>

      <div class="price-box">
        <h2>PRICE DETAILS</h2>
        <div class="price-row">
          <span>Bag Total</span>
          <span>₹ 0</span>
        </div>
        <div class="price-row">
          <span>Delivery</span>
          <span style="color: green;">FREE</span>
        </div>
        <div class="price-row total-row">
          <span>Total Amount</span>
          <span>₹ 0</span>
        </div>
        <div class="desktop-order-btn">
          <button><i class="fa fa-shopping-cart"></i> Place Order</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- EMPTY CART TEMPLATE -->
<ng-template #emptyCart>
  <div class="empty-cart">
    <p>Your cart is empty.</p>
  </div>
</ng-template>

<!-- Mobile Footer -->
<div class="mobile-footer" *ngIf="cartItems?.items?.length > 0">
  <button><i class="fa fa-shopping-cart"></i> PLACE ORDER ₹ 0</button>
</div>